<script setup lang="ts">
import { computed, ref } from "vue";
import * as icons from "./components/icons";

const switchValue1 = ref(true);
const switchValue2 = ref(false);
const datetimeValue = ref("2023-10-23");
const dialogValue1 = ref(false);
const dialogValue2 = ref(false);
const dialogValue3 = ref(false);
const dialogValue4 = ref(false);
const fieldValue = ref("");
const menuItems = computed(() => [
  {
    title: "Item 1",
    subtitle: "Item 1: subtitle",
    icon: "QIconSun",
    action: () => {
      console.log("Item 1");
    },
  },
  {
    title: "Item 2 without icon",
    action: () => {
      console.log("Item 2");
    },
  },
  {
    divider: true,
  },
  {
    title: "Item 3 with image",
    image: "https://picsum.photos/200",
    action: () => {
      console.log("Item 3");
    },
  },
  {
    title: "Item 4, disabled",
    disabled: true,
    icon: "QIconFileLock",
    action: () => {
      console.log("Item 4");
    },
  },
  {
    title: "Item 5, danger",
    danger: true,
    icon: "QIconLogout",
    action: () => {
      console.log("Item 5");
    },
  },
  {
    title: "Item 6, no icon",
    action: () => {
      console.log("Item 6");
    },
  },
]);

const currentPage = ref(1);

const selectedMenuItem = ref(menuItems.value[0]);

const selectedLang = ref('en');

function onLangSelected(item: any) {
  console.log("Language selected", item);
  selectedLang.value = item.value;
}

function dropdownMenuSelectionChanged(item: any) {
  console.log("Dropdown menu selection changed", item);
}

function submit(val:any) {
  console.log("submit", val);
}

function openDialog3(ev:any) {
  dialogValue3.value = true;
}

function openDialog4(ev:any) {
  dialogValue4.value = true;
}
</script>

<template>
  <div class="container">
    <h1 class="">Quail UI</h1>
    <div>
      ðŸ‘‰
      <a href="https://github.com/quail-ink/quail-ui" target="_blank"
        >Fork at Github</a
      >
    </div>
    <div class="section">
      <h2 class="section-title">Buttons</h2>
      <div class="grid">
        <button class="button primary">Primary</button>
        <button class="button primary elevated">Primary</button>
        <button class="button primary" disabled>Primary</button>
        <button class="button sm primary">Small</button>
        <button class="button xs primary">Smaller</button>
        <button class="button xxs primary">Smallest</button>
        <button class="button outlined">Outlined</button>
        <button class="button outlined" disabled>Outlined</button>
        <button class="button sm outlined">Outlined</button>
        <button class="button plain">Plain</button>
        <button class="button plain" disabled>Plain</button>
        <button class="button sm plain">Plain</button>
      </div>
      <div class="grid">
        <button class="button danger">Danger</button>
        <button class="button danger" disabled>Danger</button>
        <button class="button outlined danger">Danger</button>
        <button class="button outlined danger" disabled>Danger</button>
        <button class="button plain danger">Danger</button>
        <button class="button plain danger" disabled>Danger</button>
        <button class="button sm danger">Danger</button>
        <button class="button sm outlined danger">Danger</button>
        <button class="button sm plain danger">Danger</button>
      </div>
      <div class="grid">
        <button class="button icon primary">
          <QIconPlus class="icon" />
        </button>
        <button class="button icon danger">
          <QIconTrash class="icon" />
        </button>
        <button class="button icon outlined">
          <QIconSun class="icon" />
        </button>
        <button class="button icon plain">
          <QIconQuail class="icon" />
        </button>
        <button class="button primary">
          <QIconSearch class="icon" />
          <span class="button-label">Search</span>
        </button>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Text field and Textarea</h2>
      <div class="grid">
        <input type="text" placeholder="type here!" class="text-field" />
        <textarea placeholder="type here!" class="textarea" />
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Form</h2>
      <div class="grid">
        <div class="form" style="width: 100%">
          <div class="form-row">
            <div class="form-row-left">
              <label class="form-label">General Setting</label>
              <div class="form-desc">The description about the setting.</div>
            </div>
            <div class="form-row-right">
              <QSwitch v-model="switchValue2" />
            </div>
          </div>
          <div class="form-row column">
            <div class="form-label">Put a text field</div>
            <input type="text" placeholder="type here!" class="text-field" />
            <div class="form-hint">
              What you're typing here will be an example
            </div>
          </div>
          <div class="form-row column">
            <div class="form-label">Error</div>
            <div class="form-error">It seems you're typing something wrong</div>
          </div>
          <div class="form-row">
            <button class="button primary">Save</button>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">TextField with button</h2>
      <div class="grid">
        <QTextFieldWithButton v-model="fieldValue" type="text" placeholder="type here!"  action-label="Go!" @submit="submit"/>
        <QTextFieldWithButton v-model="fieldValue" type="text" placeholder="type here!"  default-text="some default text" action-label="Go!" @submit="submit"/>
        <QTextFieldWithButton v-model="fieldValue" type="email" placeholder="your email here!" action-label="Subscribe" @submit="submit"/>
        <QTextFieldWithButton v-model="fieldValue" type="email" layout="horizontal" placeholder="your email here!" action-label="Subscribe" @submit="submit"/>
      </div>
      <div class="grid">
        <div style="background-color: #111; padding: 1rem;">
          <QTextFieldWithButton v-model="fieldValue" type="email" layout="horizontal" glow="matrix" placeholder="your email here!" action-label="Subscribe" @submit="submit"/>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Fence</h2>
      <div class="grid">
        <QFence text="Some text here to tell you something useful." />
        <QFence text="This will redirect you to an external page" link="https://quail.ink" />
        <QFence text="Some text here to tell you important information." type="warning" />
        <QFence text="Some text here to tell you some words of critical." type="error" />
        <QFence text="Some text here to make you happy." type="success" />
        <QFence text="Use your favorite icon to replace the default one." icon="QIconSun" />
        <QFence text="Super long text here, very blah blah bla, Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."/>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Loading</h2>
      <div class="grid">
        <div class="loading-wrapper" style="padding: 1rem 0">
          <QLoading />
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Progress</h2>
      <div class="grid">
        <QProgress :value="50" :max="100" />
        <QProgress :value="50" :max="100" color="red" />
        <QProgress :value="50" :max="100" color="green" />
        <QProgress :value="50" :max="100" color="orange" />
        <QProgress :value="100" :max="100" />
        <QProgress :infinite="true" />
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Switch</h2>
      <div class="grid">
        <QSwitch v-model="switchValue1" />
        <QSwitch v-model="switchValue2" />
        <QSwitch v-model="switchValue2" theme="clear-sky"/>
        <QSwitch v-model="switchValue2" theme="plastic"/>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Menu</h2>
      <div class="grid">
        <div
          class="menu-wrapper"
          style="width: 300px; height: 260px; position: relative"
        >
          <QMenu :items="menuItems" />
        </div>
        <div
          class="menu-wrapper"
          style="width: 300px; height: 260px; position: relative"
        >
          <QMenu :items="menuItems" no-frame/>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Dropdown Menu</h2>
      <div class="grid">
        <QDropdownMenu
          :items="menuItems"
          :initial-item="selectedMenuItem"
          @change="dropdownMenuSelectionChanged"
        />
        <QDropdownMenu
          :items="menuItems"
          :initial-item="selectedMenuItem"
          hide-selected
          @change="dropdownMenuSelectionChanged"
        />
        <QDropdownMenu
          :items="menuItems"
          :initial-item="selectedMenuItem"
          @change="dropdownMenuSelectionChanged"
        >
          <div class="">Custom content</div>
        </QDropdownMenu>
      </div>
    </div>


    <div class="section">
      <h2 class="section-title">Language Selector</h2>
      <div class="grid">
        <QLanguageSelector :lang="'en'" auto @change="onLangSelected"/>
        <div style="margin-top: 0.5rem">
          <QIconArrowRight></QIconArrowRight>
        </div>
        <QLanguageSelector :lang="selectedLang" no-flag :presist="true" @change="onLangSelected"/>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Datetime Picker</h2>
      <div class="grid">
        <QDatetimePicker v-model="datetimeValue" />
        <br/>
        <QDatetimePicker v-model="datetimeValue" disabled />
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Dialog</h2>
      <div class="grid">
        <button class="button primary" @click="dialogValue1 = true">
          Open Dialog
        </button>

        <button class="button primary" @click="dialogValue2 = true">
          Open Persistent Dialog
        </button>

        <QDialog v-model="dialogValue3" desktop-mode="popup">
          <template #trigger>
            <button class="button primary" @click.stop="openDialog3">
              Open Dialog (popup)
            </button>
          </template>

          <div class="dialog-body">
            <div class="form-row center">
              <p style="text-align: center">Some text here</p>
            </div>
          </div>
        </QDialog>

        <QDialog v-model="dialogValue4" desktop-mode="popup" no-frame>
          <template #trigger>
              <button class="button primary" @click.stop="openDialog4">
              Open Dialog (popup & no-frame)
            </button>
          </template>

          <div
            class="dialog-body"
            style="padding: 1rem; position: relative"
          >
            <div class="dialog-body-frame" style="background-color: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 0 20px rgba(0,0,0,0.1);">
              <div class="form-row center">
                <button class="button primary block">
                  Action
                </button>
              </div>
              <div class="form-row center">
                <button class="button danger block">
                  Action
                </button>
              </div>
              <div class="form-row center">
                <button class="button block" @click="dialogValue4 = false">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </QDialog>

        <QDialog v-model="dialogValue1" title="Hello">
          <div class="dialog-body">
            <div class="form-row center">
              <p style="text-align: center">Some text here</p>
            </div>
          </div>
        </QDialog>

        <QDialog v-model="dialogValue2" title="Hello" :persistent="true">
          <div class="dialog-body">
            <div class="form-row center">
              <p style="text-align: center">You must click close button to close me</p>
            </div>
            <div class="form-row center">
              <button class="button primary" @click="dialogValue2 = false">
                Close
              </button>
            </div>
          </div>
        </QDialog>

      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Frame</h2>
      <div class="grid">
        <div class="frame">
          Some content here
        </div>
        <div class="frame focus">
          Some content here
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Pagination</h2>
      <div>
        <QPagination
          v-model="currentPage"
          :total-page="10"
          :has-prev="currentPage > 1"
          :has-next="currentPage < 10"
          @change:prev="() => { currentPage-- }"
          @change:next="() => { currentPage++; console.log(currentPage) }"
          @change:goto="(val: any) => { currentPage = val; console.log(val)}"
        />
        <br />
        <QPagination
          v-model="currentPage"
          :has-prev="currentPage > 1"
          :has-next="currentPage < 10"
          @change:prev="() => { currentPage-- }"
          @change:next="() => { currentPage++; console.log(currentPage) }"
          @change:goto="(val: any) => { currentPage = val; console.log(val)}"
        />
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Cover</h2>
      <div class="grid">
        <div class="frame" style="display: flex;">
          <QPackCover src="https://static.quail.ink/media/jo4uz87q.jpg" />
          <div class="content" style="margin-left: 16px">
            <h3 class="one-line-ellipsis">A Pack Title</h3>
            <div class="two-line-ellipsis">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Avatar</h2>
      <div class="grid">
        <QAvatar :src="'https://picsum.photos/200'" size="24" />
        <QAvatar :src="'https://picsum.photos/200'" size="32" />
        <QAvatar :src="'https://picsum.photos/200'" size="48" />
        <QAvatar :src="'https://picsum.photos/200'" size="64" />
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">Share</h2>
      <div class="grid">
        <QShare url="https://quail.ink" layout="row" />
        <QShare url="https://quail.ink" layout="column" />
      </div>
    </div>


    <div class="section">
      <h2 class="section-title">Icons</h2>
      <div class="grid">
        <div v-for="icon in icons">
          <component :is="icon" />
        </div>
      </div>
    </div>

  </div>
</template>

<style lang="scss" scoped>
.container {
  max-width: 1280px;
  padding: 1rem;
  margin: 0 auto;
  h2 {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
  }
}
.section {
  margin: 2rem 0;
}
.grid {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}
.frame {
  padding: 1rem;
}
</style>
